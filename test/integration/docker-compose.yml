version: '3.7'

volumes:
  postgres-int:

services:
  redis:
    extends:
      file: ../../docker-compose.yaml
      service: redis
    container_name: redis-int

  rabbitmq:
    extends:
      file: ../../docker-compose.yaml
      service: rabbitmq
    container_name: rabbitmq-int

  localstack:
    extends:
      file: ../../docker-compose.yaml
      service: localstack
    container_name: localstack-int

  postgres:
    extends:
      file: ../../docker-compose.yaml
      service: postgres
    container_name: postgres-int
    volumes:
      - postgres-int:/var/lib/postgresql
      - postgres-int:/var/log/postgresql
      - ./pg_init.sql:/docker-entrypoint-initdb.d/10-init.sql
